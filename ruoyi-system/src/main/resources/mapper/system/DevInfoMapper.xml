<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.DevInfoMapper">
    
    <resultMap type="DevInfo" id="DevInfoResult">
        <result property="id"    column="id"    />
        <result property="serialid"    column="serialid"    />
        <result property="devType"    column="devType"    />
        <result property="makedate"    column="makedate"    />
        <result property="controct"    column="controct"    />
        <result property="buyerid"    column="buyerid"    />
        <result property="userid"    column="userid"    />
        <result property="theclass"    column="theclass"    />
        <result property="factoryDate"    column="factoryDate"    />
        <result property="warrantyPeriod"    column="warrantyPeriod"    />
        <result property="guaranteePeriod"    column="guaranteePeriod"    />
        <result property="salesDate"    column="salesDate"    />
        <result property="serverStory"    column="serverStory"    />
        <result property="CreatorId"    column="CreatorId"    />
        <result property="CreateTime"    column="CreateTime"    />
    </resultMap>

    <sql id="selectDevInfoVo">
        select id, serialid, devType, makedate, controct, buyerid, userid, theclass, factoryDate, warrantyPeriod, guaranteePeriod, salesDate, serverStory, CreatorId, CreateTime from devInfo
    </sql>

    <select id="selectDevInfoList" parameterType="DevInfo" resultMap="DevInfoResult">
        <include refid="selectDevInfoVo"/>
        <where>  
            <if test="devType != null  and devType != ''"> and devType like concat('%', #{devType}, '%')</if>
            <if test="userid != null "> and userid = #{userid}</if>
        </where>
    </select>
    
    <select id="selectDevInfoById" parameterType="Long" resultMap="DevInfoResult">
        <include refid="selectDevInfoVo"/>
        where id = #{id}
    </select>

    <insert id="insertDevInfo" parameterType="DevInfo" useGeneratedKeys="true" keyProperty="id">
        insert into devInfo
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="serialid != null">serialid,</if>
            <if test="devType != null">devType,</if>
            <if test="makedate != null">makedate,</if>
            <if test="controct != null">controct,</if>
            <if test="buyerid != null">buyerid,</if>
            <if test="userid != null">userid,</if>
            <if test="theclass != null">theclass,</if>
            <if test="factoryDate != null">factoryDate,</if>
            <if test="warrantyPeriod != null">warrantyPeriod,</if>
            <if test="guaranteePeriod != null">guaranteePeriod,</if>
            <if test="salesDate != null">salesDate,</if>
            <if test="serverStory != null">serverStory,</if>
            <if test="CreatorId != null">CreatorId,</if>
            <if test="CreateTime != null">CreateTime,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="serialid != null">#{serialid},</if>
            <if test="devType != null">#{devType},</if>
            <if test="makedate != null">#{makedate},</if>
            <if test="controct != null">#{controct},</if>
            <if test="buyerid != null">#{buyerid},</if>
            <if test="userid != null">#{userid},</if>
            <if test="theclass != null">#{theclass},</if>
            <if test="factoryDate != null">#{factoryDate},</if>
            <if test="warrantyPeriod != null">#{warrantyPeriod},</if>
            <if test="guaranteePeriod != null">#{guaranteePeriod},</if>
            <if test="salesDate != null">#{salesDate},</if>
            <if test="serverStory != null">#{serverStory},</if>
            <if test="CreatorId != null">#{CreatorId},</if>
            <if test="CreateTime != null">#{CreateTime},</if>
         </trim>
    </insert>

    <update id="updateDevInfo" parameterType="DevInfo">
        update devInfo
        <trim prefix="SET" suffixOverrides=",">
            <if test="serialid != null">serialid = #{serialid},</if>
            <if test="devType != null">devType = #{devType},</if>
            <if test="makedate != null">makedate = #{makedate},</if>
            <if test="controct != null">controct = #{controct},</if>
            <if test="buyerid != null">buyerid = #{buyerid},</if>
            <if test="userid != null">userid = #{userid},</if>
            <if test="theclass != null">theclass = #{theclass},</if>
            <if test="factoryDate != null">factoryDate = #{factoryDate},</if>
            <if test="warrantyPeriod != null">warrantyPeriod = #{warrantyPeriod},</if>
            <if test="guaranteePeriod != null">guaranteePeriod = #{guaranteePeriod},</if>
            <if test="salesDate != null">salesDate = #{salesDate},</if>
            <if test="serverStory != null">serverStory = #{serverStory},</if>
            <if test="CreatorId != null">CreatorId = #{CreatorId},</if>
            <if test="CreateTime != null">CreateTime = #{CreateTime},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteDevInfoById" parameterType="Long">
        delete from devInfo where id = #{id}
    </delete>

    <delete id="deleteDevInfoByIds" parameterType="String">
        delete from devInfo where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>

</mapper>